# 123 序列化二叉树

[123 序列化二叉树](https://www.nowcoder.com/practice/cf7e25aa97c04cc1a68c8f040e71fb84?tpId=190&&tqId=35594&rp=1&ru=/ta/job-code-high-rd&qru=/ta/job-code-high-rd/question-ranking)

```
class Solution {
public:
    void dfs(TreeNode *root,string& res){
        if(root == nullptr){
            res += "#,";
            return;
        }
        res += to_string(root->val);
        res.push_back(',');
        dfs(root->left,res);
        dfs(root->right,res);
    }
    
    char* Serialize(TreeNode *root) {    
        string  res; 
        dfs(root,res);
        char* ss = new char[res.length()+1];
        strcpy(ss, res.c_str());
        return ss;
    }
    TreeNode* Deserialize(char *&str) {
        if(*str == '#' || *str == '\0')
            return nullptr;
        
        TreeNode* head = new TreeNode(atoi(str));
        while(*str!= ',')
            ++str;
        ++str;
        head->left=Deserialize(str);
        while(*str!= ',')
            ++str;
        ++str;
        head->right=Deserialize(str);
        return head;
    }
};
```

